const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["shared/Navbar-chunk-Bmq4wKz-.js","shared/index-chunk-CEXPDuLj.js","shared/index-DnVUw_vK.css","shared/hooks-chunk-DtK45pyX.js","shared/redirect-chunk-DBXMV5M2.js","shared/Alert-chunk-7KL-PA51.js","shared/Fade-chunk-BUf0lCBf.js","shared/divWithClassName-chunk-CAIrAdFE.js","shared/CloseButton-chunk-481vGlg4.js","shared/AbstractModalHeader-chunk-Z9zsovdD.js","shared/hasClass-chunk-CnlNRzFA.js","shared/warning-chunk-C3XMKpUZ.js","shared/CardHeaderContext-chunk-DUDyEd_j.js","shared/InputGroupContext-chunk-DiYP6hY5.js","shared/Navbar-DjE7EqfI.css","shared/Footer-chunk-B0nAH3Vv.js","shared/html.parse-chunk-DPn1M0Cf.js","shared/Footer-IHQMiBN9.css","shared/NotificationAlert-chunk-D0nHZtD2.js","shared/NotificationAlert-Stm57Ob9.css"])))=>i.map(i=>d[i]);
var Ni=Object.defineProperty;var Xt=s=>{throw TypeError(s)};var Ci=(s,e,t)=>e in s?Ni(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t;var Ce=(s,e,t)=>Ci(s,typeof e!="symbol"?e+"":e,t),dt=(s,e,t)=>e.has(s)||Xt("Cannot "+t);var n=(s,e,t)=>(dt(s,e,"read from private field"),t?t.call(s):e.get(s)),b=(s,e,t)=>e.has(s)?Xt("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(s):e.set(s,t),f=(s,e,t,i)=>(dt(s,e,"write to private field"),i?i.call(s,t):e.set(s,t),t),S=(s,e,t)=>(dt(s,e,"access private method"),t);var et=(s,e,t,i)=>({set _(r){f(s,e,r,t)},get _(){return n(s,e,i)}});import{r as g,u as $,j as a,c as T,X as Oi,f as Pt,P as Pi,F as Le,Y as Ri,t as me,Z as Ei,$ as Fi,B as J,a0 as ki,K as Ai,C as Rt,v as Ti,_ as Et,o as Ui,L as Di,a1 as Mi,m as Ns,a2 as Ii,a3 as Qi,a as Ki,b as Li,W as $i,a4 as Bi,l as zi,n as _i,a5 as Hi,p as Gi,q as Vi}from"../shared/index-chunk-CEXPDuLj.js";/* empty css                *//* empty css                             */import{a as Wi,A as Yi,b as Ji}from"../shared/authenticatedRoot.store-chunk-ElWfD4ZO.js";import{u as Xi,b as Zi,O as Ft,T as kt,c as Cs,f as Os,p as ea,L as ta}from"../shared/format-chunk-Dp-GLVmU.js";import{R as K}from"../shared/Row-chunk-DhIDnGHf.js";import{A as sa}from"../shared/CloseButton-chunk-481vGlg4.js";import{c as pt,a as Ps,e as ia,F as Rs,E as aa,f as na,b as Zt,g as ra,h as es}from"../shared/index.esm-chunk-BR9CWGfH.js";import{u as Es,a as ft,c as Fs,b as oa,r as ts,o as la,F as ks,d as ca,t as da}from"../shared/Fade-chunk-BUf0lCBf.js";import{C as As,u as ua,m as ha,B as pa,A as fa,M as ma,a as ya,g as ga}from"../shared/AbstractModalHeader-chunk-Z9zsovdD.js";import{d as va}from"../shared/divWithClassName-chunk-CAIrAdFE.js";import{a as L}from"../shared/Form-chunk-MwMlHtPH.js";import"../shared/warning-chunk-C3XMKpUZ.js";import{C as Y}from"../shared/Card-chunk-Dw96nKWx.js";import"../shared/hasClass-chunk-CnlNRzFA.js";import"../shared/CardHeaderContext-chunk-DUDyEd_j.js";function Ts(s,e){return Array.isArray(s)?s.includes(e):s===e}const _e=g.createContext({});_e.displayName="AccordionContext";const At=g.forwardRef(({as:s="div",bsPrefix:e,className:t,children:i,eventKey:r,...o},l)=>{const{activeEventKey:u}=g.useContext(_e);return e=$(e,"accordion-collapse"),a.jsx(As,{ref:l,in:Ts(u,r),...o,className:T(t,e),children:a.jsx(s,{children:g.Children.only(i)})})});At.displayName="AccordionCollapse";const rt=g.createContext({eventKey:""});rt.displayName="AccordionItemContext";const Us=g.forwardRef(({as:s="div",bsPrefix:e,className:t,onEnter:i,onEntering:r,onEntered:o,onExit:l,onExiting:u,onExited:c,...p},d)=>{e=$(e,"accordion-body");const{eventKey:h}=g.useContext(rt);return a.jsx(At,{eventKey:h,onEnter:i,onEntering:r,onEntered:o,onExit:l,onExiting:u,onExited:c,children:a.jsx(s,{ref:d,...p,className:T(t,e)})})});Us.displayName="AccordionBody";const Tt=g.forwardRef(({as:s="button",bsPrefix:e,className:t,onClick:i,...r},o)=>{e=$(e,"accordion-button");const{eventKey:l}=g.useContext(rt),u=function(p,d){const{activeEventKey:h,onSelect:m,alwaysOpen:v}=g.useContext(_e);return j=>{let x=p===h?null:p;v&&(x=Array.isArray(h)?h.includes(p)?h.filter(y=>y!==p):[...h,p]:[p]),m==null||m(x,j),d==null||d(j)}}(l,i),{activeEventKey:c}=g.useContext(_e);return s==="button"&&(r.type="button"),a.jsx(s,{ref:o,onClick:u,...r,"aria-expanded":Array.isArray(c)?c.includes(l):l===c,className:T(t,e,!Ts(c,l)&&"collapsed")})});Tt.displayName="AccordionButton";const Ds=g.forwardRef(({as:s="h2","aria-controls":e,bsPrefix:t,className:i,children:r,onClick:o,...l},u)=>(t=$(t,"accordion-header"),a.jsx(s,{ref:u,...l,className:T(i,t),children:a.jsx(Tt,{onClick:o,"aria-controls":e,children:r})})));Ds.displayName="AccordionHeader";const Ms=g.forwardRef(({as:s="div",bsPrefix:e,className:t,eventKey:i,...r},o)=>{e=$(e,"accordion-item");const l=g.useMemo(()=>({eventKey:i}),[i]);return a.jsx(rt.Provider,{value:l,children:a.jsx(s,{ref:o,...r,className:T(t,e)})})});Ms.displayName="AccordionItem";const Is=g.forwardRef((s,e)=>{const{as:t="div",activeKey:i,bsPrefix:r,className:o,onSelect:l,flush:u,alwaysOpen:c,...p}=Es(s,{activeKey:"onSelect"}),d=$(r,"accordion"),h=g.useMemo(()=>({activeEventKey:i,onSelect:l,alwaysOpen:c}),[i,l,c]);return a.jsx(_e.Provider,{value:h,children:a.jsx(t,{ref:e,...p,className:T(o,d,u&&`${d}-flush`)})})});Is.displayName="Accordion";const tt=Object.assign(Is,{Button:Tt,Collapse:At,Item:Ms,Header:Ds,Body:Us}),Qs=g.forwardRef(({bsPrefix:s,active:e,disabled:t,eventKey:i,className:r,variant:o,action:l,as:u,...c},p)=>{s=$(s,"list-group-item");const[d,h]=ua({key:ha(i,c.href),active:e,...c}),m=ft(j=>{if(t)return j.preventDefault(),void j.stopPropagation();d.onClick(j)});t&&c.tabIndex===void 0&&(c.tabIndex=-1,c["aria-disabled"]=!0);const v=u||(l?c.href?"a":"button":"div");return a.jsx(v,{ref:p,...c,...d,onClick:m,className:T(r,s,h.isActive&&"active",t&&"disabled",o&&`${s}-${o}`,l&&`${s}-action`)})});Qs.displayName="ListGroupItem";const Ks=g.forwardRef((s,e)=>{const{className:t,bsPrefix:i,variant:r,horizontal:o,numbered:l,as:u="div",...c}=Es(s,{activeKey:"onSelect"}),p=$(i,"list-group");let d;return o&&(d=o===!0?"horizontal":`horizontal-${o}`),a.jsx(pa,{ref:e,...c,as:u,className:T(t,p,r&&`${p}-${r}`,d&&`${p}-${d}`,l&&`${p}-numbered`)})});Ks.displayName="ListGroup";const ss=Object.assign(Ks,{Item:Qs});var st;function is(s){if((!st&&st!==0||s)&&Fs){var e=document.createElement("div");e.style.position="absolute",e.style.top="-9999px",e.style.width="50px",e.style.height="50px",e.style.overflow="scroll",document.body.appendChild(e),st=e.offsetWidth-e.clientWidth,document.body.removeChild(e)}return st}const Ls=g.forwardRef(({className:s,bsPrefix:e,as:t="div",...i},r)=>(e=$(e,"modal-body"),a.jsx(t,{ref:r,className:T(s,e),...i})));Ls.displayName="ModalBody";const Ut=g.forwardRef(({bsPrefix:s,className:e,contentClassName:t,centered:i,size:r,fullscreen:o,children:l,scrollable:u,...c},p)=>{const d=`${s=$(s,"modal")}-dialog`,h=typeof o=="string"?`${s}-fullscreen-${o}`:`${s}-fullscreen`;return a.jsx("div",{...c,ref:p,className:T(d,e,r&&`${s}-${r}`,i&&`${d}-centered`,u&&`${d}-scrollable`,o&&h),children:a.jsx("div",{className:T(`${s}-content`,t),children:l})})});Ut.displayName="ModalDialog";const $s=g.forwardRef(({className:s,bsPrefix:e,as:t="div",...i},r)=>(e=$(e,"modal-footer"),a.jsx(t,{ref:r,className:T(s,e),...i})));$s.displayName="ModalFooter";const Bs=g.forwardRef(({bsPrefix:s,className:e,closeLabel:t="Close",closeButton:i=!1,...r},o)=>(s=$(s,"modal-header"),a.jsx(fa,{ref:o,...r,className:T(e,s),closeLabel:t,closeButton:i})));Bs.displayName="ModalHeader";const xa=va("h4"),zs=g.forwardRef(({className:s,bsPrefix:e,as:t=xa,...i},r)=>(e=$(e,"modal-title"),a.jsx(t,{ref:r,className:T(s,e),...i})));function ba(s){return a.jsx(ks,{...s,timeout:null})}function ja(s){return a.jsx(ks,{...s,timeout:null})}zs.displayName="ModalTitle";const _s=g.forwardRef(({bsPrefix:s,className:e,style:t,dialogClassName:i,contentClassName:r,children:o,dialogAs:l=Ut,"data-bs-theme":u,"aria-labelledby":c,"aria-describedby":p,"aria-label":d,show:h=!1,animation:m=!0,backdrop:v=!0,keyboard:j=!0,onEscapeKeyDown:x,onShow:y,onHide:w,container:C,autoFocus:R=!0,enforceFocus:A=!0,restoreFocus:E=!0,restoreFocusOptions:z,onEntered:F,onExit:O,onExiting:D,onEnter:ye,onEntering:$t,onExited:Bt,backdropClassName:zt,manager:ui,...hi},pi)=>{const[fi,mi]=g.useState({}),[yi,_t]=g.useState(!1),ot=g.useRef(!1),lt=g.useRef(!1),$e=g.useRef(null),[Be,gi]=g.useState(null),vi=oa(pi,gi),Ht=ft(w),xi=Oi();s=$(s,"modal");const bi=g.useMemo(()=>({onHide:Ht}),[Ht]);function Gt(){return ui||ga({isRTL:xi})}function Vt(P){if(!Fs)return;const se=Gt().getScrollbarWidth()>0,Jt=P.scrollHeight>la(P).documentElement.clientHeight;mi({paddingRight:se&&!Jt?is():void 0,paddingLeft:!se&&Jt?is():void 0})}const ct=ft(()=>{Be&&Vt(Be.dialog)});Xi(()=>{ts(window,"resize",ct),$e.current==null||$e.current()});const ji=()=>{ot.current=!0},wi=P=>{ot.current&&Be&&P.target===Be.dialog&&(lt.current=!0),ot.current=!1},Wt=()=>{_t(!0),$e.current=da(Be.dialog,()=>{_t(!1)})},Si=P=>{v!=="static"?lt.current||P.target!==P.currentTarget?lt.current=!1:w==null||w():(se=>{se.target===se.currentTarget&&Wt()})(P)},qi=g.useCallback(P=>a.jsx("div",{...P,className:T(`${s}-backdrop`,zt,!m&&"show")}),[m,zt,s]),Yt={...t,...fi};return Yt.display="block",a.jsx(ma.Provider,{value:bi,children:a.jsx(ya,{show:h,ref:vi,backdrop:v,container:C,keyboard:!0,autoFocus:R,enforceFocus:A,restoreFocus:E,restoreFocusOptions:z,onEscapeKeyDown:P=>{j?x==null||x(P):(P.preventDefault(),v==="static"&&Wt())},onShow:y,onHide:w,onEnter:(P,se)=>{P&&Vt(P),ye==null||ye(P,se)},onEntering:(P,se)=>{$t==null||$t(P,se),ca(window,"resize",ct)},onEntered:F,onExit:P=>{$e.current==null||$e.current(),O==null||O(P)},onExiting:D,onExited:P=>{P&&(P.style.display=""),Bt==null||Bt(P),ts(window,"resize",ct)},manager:Gt(),transition:m?ba:void 0,backdropTransition:m?ja:void 0,renderBackdrop:qi,renderDialog:P=>a.jsx("div",{role:"dialog",...P,style:Yt,className:T(e,s,yi&&`${s}-static`,!m&&"show"),onClick:v?Si:void 0,onMouseUp:wi,"data-bs-theme":u,"aria-label":d,"aria-labelledby":c,"aria-describedby":p,children:a.jsx(l,{...hi,onMouseDown:ji,className:i,contentClassName:r,children:o})})})})});_s.displayName="Modal";const ne=Object.assign(_s,{Body:Ls,Header:Bs,Title:zs,Footer:$s,Dialog:Ut,TRANSITION_DURATION:300,BACKDROP_TRANSITION_DURATION:150}),Dt=g.forwardRef(({active:s=!1,disabled:e=!1,className:t,style:i,activeLabel:r="(current)",children:o,linkStyle:l,linkClassName:u,as:c=sa,...p},d)=>{const h=s||e?"span":c;return a.jsx("li",{ref:d,style:i,className:T(t,"page-item",{active:s,disabled:e}),children:a.jsxs(h,{className:T("page-link",u),style:l,...p,children:[o,s&&r&&a.jsx("span",{className:"visually-hidden",children:r})]})})});function Xe(s,e,t=s){const i=g.forwardRef(({children:r,...o},l)=>a.jsxs(Dt,{...o,ref:l,children:[a.jsx("span",{"aria-hidden":"true",children:r||e}),a.jsx("span",{className:"visually-hidden",children:t})]}));return i.displayName=s,i}Dt.displayName="PageItem";const wa=Xe("First","«"),Sa=Xe("Prev","‹","Previous"),qa=Xe("Ellipsis","…","More"),Na=Xe("Next","›"),Ca=Xe("Last","»"),Hs=g.forwardRef(({bsPrefix:s,className:e,size:t,...i},r)=>{const o=$(s,"pagination");return a.jsx("ul",{ref:r,...i,className:T(e,o,t&&`${o}-${t}`)})});Hs.displayName="Pagination";const oe=Object.assign(Hs,{First:wa,Prev:Sa,Ellipsis:qa,Item:Dt,Next:Na,Last:Ca});var Ze=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(s){return this.listeners.add(s),this.onSubscribe(),()=>{this.listeners.delete(s),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Ne=typeof window>"u"||"Deno"in globalThis;function H(){}function mt(s){return typeof s=="number"&&s>=0&&s!==1/0}function Gs(s,e){return Math.max(s+(e||0)-Date.now(),0)}function Oe(s,e){return typeof s=="function"?s(e):s}function W(s,e){return typeof s=="function"?s(e):s}function as(s,e){const{type:t="all",exact:i,fetchStatus:r,predicate:o,queryKey:l,stale:u}=s;if(l){if(i){if(e.queryHash!==Mt(l,e.options))return!1}else if(!Ge(e.queryKey,l))return!1}if(t!=="all"){const c=e.isActive();if(t==="active"&&!c||t==="inactive"&&c)return!1}return(typeof u!="boolean"||e.isStale()===u)&&(!r||r===e.state.fetchStatus)&&!(o&&!o(e))}function ns(s,e){const{exact:t,status:i,predicate:r,mutationKey:o}=s;if(o){if(!e.options.mutationKey)return!1;if(t){if(He(e.options.mutationKey)!==He(o))return!1}else if(!Ge(e.options.mutationKey,o))return!1}return(!i||e.state.status===i)&&!(r&&!r(e))}function Mt(s,e){return((e==null?void 0:e.queryKeyHashFn)||He)(s)}function He(s){return JSON.stringify(s,(e,t)=>yt(t)?Object.keys(t).sort().reduce((i,r)=>(i[r]=t[r],i),{}):t)}function Ge(s,e){return s===e||typeof s==typeof e&&!(!s||!e||typeof s!="object"||typeof e!="object")&&!Object.keys(e).some(t=>!Ge(s[t],e[t]))}function Vs(s,e){if(s===e)return s;const t=rs(s)&&rs(e);if(t||yt(s)&&yt(e)){const i=t?s:Object.keys(s),r=i.length,o=t?e:Object.keys(e),l=o.length,u=t?[]:{};let c=0;for(let p=0;p<l;p++){const d=t?p:o[p];(!t&&i.includes(d)||t)&&s[d]===void 0&&e[d]===void 0?(u[d]=void 0,c++):(u[d]=Vs(s[d],e[d]),u[d]===s[d]&&s[d]!==void 0&&c++)}return r===l&&c===r?s:u}return e}function ut(s,e){if(!e||Object.keys(s).length!==Object.keys(e).length)return!1;for(const t in s)if(s[t]!==e[t])return!1;return!0}function rs(s){return Array.isArray(s)&&s.length===Object.keys(s).length}function yt(s){if(!os(s))return!1;const e=s.constructor;if(e===void 0)return!0;const t=e.prototype;return!!os(t)&&!!t.hasOwnProperty("isPrototypeOf")&&Object.getPrototypeOf(s)===Object.prototype}function os(s){return Object.prototype.toString.call(s)==="[object Object]"}function gt(s,e,t){return typeof t.structuralSharing=="function"?t.structuralSharing(s,e):t.structuralSharing!==!1?Vs(s,e):e}function Oa(s,e,t=0){const i=[...s,e];return t&&i.length>t?i.slice(1):i}function Pa(s,e,t=0){const i=[e,...s];return t&&i.length>t?i.slice(0,-1):i}var It=Symbol();function Ws(s,e){return!s.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:s.queryFn&&s.queryFn!==It?s.queryFn:()=>Promise.reject(new Error(`Missing queryFn: '${s.queryHash}'`))}var ge,le,Pe,ys,Qt=new(ys=class extends Ze{constructor(){super();b(this,ge);b(this,le);b(this,Pe);f(this,Pe,e=>{if(!Ne&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}})}onSubscribe(){n(this,le)||this.setEventListener(n(this,Pe))}onUnsubscribe(){var e;this.hasListeners()||((e=n(this,le))==null||e.call(this),f(this,le,void 0))}setEventListener(e){var t;f(this,Pe,e),(t=n(this,le))==null||t.call(this),f(this,le,e(i=>{typeof i=="boolean"?this.setFocused(i):this.onFocus()}))}setFocused(e){n(this,ge)!==e&&(f(this,ge,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){var e;return typeof n(this,ge)=="boolean"?n(this,ge):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},ge=new WeakMap,le=new WeakMap,Pe=new WeakMap,ys),Re,ce,Ee,gs,nt=new(gs=class extends Ze{constructor(){super();b(this,Re,!0);b(this,ce);b(this,Ee);f(this,Ee,e=>{if(!Ne&&window.addEventListener){const t=()=>e(!0),i=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",i,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",i)}}})}onSubscribe(){n(this,ce)||this.setEventListener(n(this,Ee))}onUnsubscribe(){var e;this.hasListeners()||((e=n(this,ce))==null||e.call(this),f(this,ce,void 0))}setEventListener(e){var t;f(this,Ee,e),(t=n(this,ce))==null||t.call(this),f(this,ce,e(this.setOnline.bind(this)))}setOnline(e){n(this,Re)!==e&&(f(this,Re,e),this.listeners.forEach(t=>{t(e)}))}isOnline(){return n(this,Re)}},Re=new WeakMap,ce=new WeakMap,Ee=new WeakMap,gs);function vt(){let s,e;const t=new Promise((r,o)=>{s=r,e=o});function i(r){Object.assign(t,r),delete t.resolve,delete t.reject}return t.status="pending",t.catch(()=>{}),t.resolve=r=>{i({status:"fulfilled",value:r}),s(r)},t.reject=r=>{i({status:"rejected",reason:r}),e(r)},t}function Ra(s){return Math.min(1e3*2**s,3e4)}function Ys(s){return(s??"online")!=="online"||nt.isOnline()}var Js=class extends Error{constructor(s){super("CancelledError"),this.revert=s==null?void 0:s.revert,this.silent=s==null?void 0:s.silent}};function ht(s){return s instanceof Js}function Xs(s){let e,t=!1,i=0,r=!1;const o=vt(),l=()=>Qt.isFocused()&&(s.networkMode==="always"||nt.isOnline())&&s.canRun(),u=()=>Ys(s.networkMode)&&s.canRun(),c=m=>{var v;r||(r=!0,(v=s.onSuccess)==null||v.call(s,m),e==null||e(),o.resolve(m))},p=m=>{var v;r||(r=!0,(v=s.onError)==null||v.call(s,m),e==null||e(),o.reject(m))},d=()=>new Promise(m=>{var v;e=j=>{(r||l())&&m(j)},(v=s.onPause)==null||v.call(s)}).then(()=>{var m;e=void 0,r||((m=s.onContinue)==null||m.call(s))}),h=()=>{if(r)return;let m;const v=i===0?s.initialPromise:void 0;try{m=v??s.fn()}catch(j){m=Promise.reject(j)}Promise.resolve(m).then(c).catch(j=>{var A;if(r)return;const x=s.retry??(Ne?0:3),y=s.retryDelay??Ra,w=typeof y=="function"?y(i,j):y,C=x===!0||typeof x=="number"&&i<x||typeof x=="function"&&x(i,j);var R;!t&&C?(i++,(A=s.onFail)==null||A.call(s,i,j),(R=w,new Promise(E=>{setTimeout(E,R)})).then(()=>l()?void 0:d()).then(()=>{t?p(j):h()})):p(j)})};return{promise:o,cancel:m=>{var v;r||(p(new Js(m)),(v=s.abort)==null||v.call(s))},continue:()=>(e==null||e(),o),cancelRetry:()=>{t=!0},continueRetry:()=>{t=!1},canStart:u,start:()=>(u()?h():d().then(h),o)}}var U=function(){let s=[],e=0,t=l=>{l()},i=l=>{l()},r=l=>setTimeout(l,0);const o=l=>{e?s.push(l):r(()=>{t(l)})};return{batch:l=>{let u;e++;try{u=l()}finally{e--,e||(()=>{const c=s;s=[],c.length&&r(()=>{i(()=>{c.forEach(p=>{t(p)})})})})()}return u},batchCalls:l=>(...u)=>{o(()=>{l(...u)})},schedule:o,setNotifyFunction:l=>{t=l},setBatchNotifyFunction:l=>{i=l},setScheduler:l=>{r=l}}}(),ve,vs,Zs=(vs=class{constructor(){b(this,ve)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),mt(this.gcTime)&&f(this,ve,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(s){this.gcTime=Math.max(this.gcTime||0,s??(Ne?1/0:3e5))}clearGcTimeout(){n(this,ve)&&(clearTimeout(n(this,ve)),f(this,ve,void 0))}},ve=new WeakMap,vs),Fe,ke,_,xe,M,Ve,be,G,ie,xs,Ea=(xs=class extends Zs{constructor(e){super();b(this,G);b(this,Fe);b(this,ke);b(this,_);b(this,xe);b(this,M);b(this,Ve);b(this,be);f(this,be,!1),f(this,Ve,e.defaultOptions),this.setOptions(e.options),this.observers=[],f(this,xe,e.client),f(this,_,n(this,xe).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,f(this,Fe,function(t){const i=typeof t.initialData=="function"?t.initialData():t.initialData,r=i!==void 0,o=r?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:i,dataUpdateCount:0,dataUpdatedAt:r?o??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}(this.options)),this.state=e.state??n(this,Fe),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=n(this,M))==null?void 0:e.promise}setOptions(e){this.options={...n(this,Ve),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){this.observers.length||this.state.fetchStatus!=="idle"||n(this,_).remove(this)}setData(e,t){const i=gt(this.state.data,e,this.options);return S(this,G,ie).call(this,{data:i,type:"success",dataUpdatedAt:t==null?void 0:t.updatedAt,manual:t==null?void 0:t.manual}),i}setState(e,t){S(this,G,ie).call(this,{type:"setState",state:e,setStateOptions:t})}cancel(e){var i,r;const t=(i=n(this,M))==null?void 0:i.promise;return(r=n(this,M))==null||r.cancel(e),t?t.then(H).catch(H):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(n(this,Fe))}isActive(){return this.observers.some(e=>W(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===It||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return!!this.state.isInvalidated||(this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0)}isStaleByTime(e=0){return this.state.isInvalidated||this.state.data===void 0||!Gs(this.state.dataUpdatedAt,e)}onFocus(){var t;const e=this.observers.find(i=>i.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(t=n(this,M))==null||t.continue()}onOnline(){var t;const e=this.observers.find(i=>i.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(t=n(this,M))==null||t.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),n(this,_).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(n(this,M)&&(n(this,be)?n(this,M).cancel({revert:!0}):n(this,M).cancelRetry()),this.scheduleGc()),n(this,_).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||S(this,G,ie).call(this,{type:"invalidate"})}fetch(e,t){var u,c,p;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(t!=null&&t.cancelRefetch))this.cancel({silent:!0});else if(n(this,M))return n(this,M).continueRetry(),n(this,M).promise}if(e&&this.setOptions(e),!this.options.queryFn){const d=this.observers.find(h=>h.options.queryFn);d&&this.setOptions(d.options)}const i=new AbortController,r=d=>{Object.defineProperty(d,"signal",{enumerable:!0,get:()=>(f(this,be,!0),i.signal)})},o={fetchOptions:t,options:this.options,queryKey:this.queryKey,client:n(this,xe),state:this.state,fetchFn:()=>{const d=Ws(this.options,t),h={client:n(this,xe),queryKey:this.queryKey,meta:this.meta};return r(h),f(this,be,!1),this.options.persister?this.options.persister(d,h,this):d(h)}};r(o),(u=this.options.behavior)==null||u.onFetch(o,this),f(this,ke,this.state),this.state.fetchStatus!=="idle"&&this.state.fetchMeta===((c=o.fetchOptions)==null?void 0:c.meta)||S(this,G,ie).call(this,{type:"fetch",meta:(p=o.fetchOptions)==null?void 0:p.meta});const l=d=>{var h,m,v,j;ht(d)&&d.silent||S(this,G,ie).call(this,{type:"error",error:d}),ht(d)||((m=(h=n(this,_).config).onError)==null||m.call(h,d,this),(j=(v=n(this,_).config).onSettled)==null||j.call(v,this.state.data,d,this)),this.scheduleGc()};return f(this,M,Xs({initialPromise:t==null?void 0:t.initialPromise,fn:o.fetchFn,abort:i.abort.bind(i),onSuccess:d=>{var h,m,v,j;if(d!==void 0){try{this.setData(d)}catch(x){return void l(x)}(m=(h=n(this,_).config).onSuccess)==null||m.call(h,d,this),(j=(v=n(this,_).config).onSettled)==null||j.call(v,d,this.state.error,this),this.scheduleGc()}else l(new Error(`${this.queryHash} data is undefined`))},onError:l,onFail:(d,h)=>{S(this,G,ie).call(this,{type:"failed",failureCount:d,error:h})},onPause:()=>{S(this,G,ie).call(this,{type:"pause"})},onContinue:()=>{S(this,G,ie).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0})),n(this,M).start()}},Fe=new WeakMap,ke=new WeakMap,_=new WeakMap,xe=new WeakMap,M=new WeakMap,Ve=new WeakMap,be=new WeakMap,G=new WeakSet,ie=function(e){this.state=(t=>{switch(e.type){case"failed":return{...t,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...t,fetchStatus:"paused"};case"continue":return{...t,fetchStatus:"fetching"};case"fetch":return{...t,...ei(t.data,this.options),fetchMeta:e.meta??null};case"success":return{...t,data:e.data,dataUpdateCount:t.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=e.error;return ht(i)&&i.revert&&n(this,ke)?{...n(this,ke),fetchStatus:"idle"}:{...t,error:i,errorUpdateCount:t.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:t.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...t,isInvalidated:!0};case"setState":return{...t,...e.state}}})(this.state),U.batch(()=>{this.observers.forEach(t=>{t.onQueryUpdate()}),n(this,_).notify({query:this,type:"updated",action:e})})},xs);function ei(s,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Ys(e.networkMode)?"fetching":"paused",...s===void 0&&{error:null,status:"pending"}}}var X,bs,Fa=(bs=class extends Ze{constructor(e={}){super();b(this,X);this.config=e,f(this,X,new Map)}build(e,t,i){const r=t.queryKey,o=t.queryHash??Mt(r,t);let l=this.get(o);return l||(l=new Ea({client:e,queryKey:r,queryHash:o,options:e.defaultQueryOptions(t),state:i,defaultOptions:e.getQueryDefaults(r)}),this.add(l)),l}add(e){n(this,X).has(e.queryHash)||(n(this,X).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=n(this,X).get(e.queryHash);t&&(e.destroy(),t===e&&n(this,X).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){U.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return n(this,X).get(e)}getAll(){return[...n(this,X).values()]}find(e){const t={exact:!0,...e};return this.getAll().find(i=>as(t,i))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter(i=>as(e,i)):t}notify(e){U.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){U.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){U.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},X=new WeakMap,bs),Z,I,je,ee,re,js,ka=(js=class extends Zs{constructor(e){super();b(this,ee);b(this,Z);b(this,I);b(this,je);this.mutationId=e.mutationId,f(this,I,e.mutationCache),f(this,Z,[]),this.state=e.state||{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0},this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){n(this,Z).includes(e)||(n(this,Z).push(e),this.clearGcTimeout(),n(this,I).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){f(this,Z,n(this,Z).filter(t=>t!==e)),this.scheduleGc(),n(this,I).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){n(this,Z).length||(this.state.status==="pending"?this.scheduleGc():n(this,I).remove(this))}continue(){var e;return((e=n(this,je))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var r,o,l,u,c,p,d,h,m,v,j,x,y,w,C,R,A,E,z,F;f(this,je,Xs({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(O,D)=>{S(this,ee,re).call(this,{type:"failed",failureCount:O,error:D})},onPause:()=>{S(this,ee,re).call(this,{type:"pause"})},onContinue:()=>{S(this,ee,re).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>n(this,I).canRun(this)}));const t=this.state.status==="pending",i=!n(this,je).canStart();try{if(!t){S(this,ee,re).call(this,{type:"pending",variables:e,isPaused:i}),await((o=(r=n(this,I).config).onMutate)==null?void 0:o.call(r,e,this));const D=await((u=(l=this.options).onMutate)==null?void 0:u.call(l,e));D!==this.state.context&&S(this,ee,re).call(this,{type:"pending",context:D,variables:e,isPaused:i})}const O=await n(this,je).start();return await((p=(c=n(this,I).config).onSuccess)==null?void 0:p.call(c,O,e,this.state.context,this)),await((h=(d=this.options).onSuccess)==null?void 0:h.call(d,O,e,this.state.context)),await((v=(m=n(this,I).config).onSettled)==null?void 0:v.call(m,O,null,this.state.variables,this.state.context,this)),await((x=(j=this.options).onSettled)==null?void 0:x.call(j,O,null,e,this.state.context)),S(this,ee,re).call(this,{type:"success",data:O}),O}catch(O){try{throw await((w=(y=n(this,I).config).onError)==null?void 0:w.call(y,O,e,this.state.context,this)),await((R=(C=this.options).onError)==null?void 0:R.call(C,O,e,this.state.context)),await((E=(A=n(this,I).config).onSettled)==null?void 0:E.call(A,void 0,O,this.state.variables,this.state.context,this)),await((F=(z=this.options).onSettled)==null?void 0:F.call(z,void 0,O,e,this.state.context)),O}finally{S(this,ee,re).call(this,{type:"error",error:O})}}finally{n(this,I).runNext(this)}}},Z=new WeakMap,I=new WeakMap,je=new WeakMap,ee=new WeakSet,re=function(e){this.state=(t=>{switch(e.type){case"failed":return{...t,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...t,isPaused:!0};case"continue":return{...t,isPaused:!1};case"pending":return{...t,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...t,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...t,data:void 0,error:e.error,failureCount:t.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}})(this.state),U.batch(()=>{n(this,Z).forEach(t=>{t.onMutationUpdate(e)}),n(this,I).notify({mutation:this,type:"updated",action:e})})},js),ae,V,We,ws,Aa=(ws=class extends Ze{constructor(e={}){super();b(this,ae);b(this,V);b(this,We);this.config=e,f(this,ae,new Set),f(this,V,new Map),f(this,We,0)}build(e,t,i){const r=new ka({mutationCache:this,mutationId:++et(this,We)._,options:e.defaultMutationOptions(t),state:i});return this.add(r),r}add(e){n(this,ae).add(e);const t=it(e);if(typeof t=="string"){const i=n(this,V).get(t);i?i.push(e):n(this,V).set(t,[e])}this.notify({type:"added",mutation:e})}remove(e){if(n(this,ae).delete(e)){const t=it(e);if(typeof t=="string"){const i=n(this,V).get(t);if(i)if(i.length>1){const r=i.indexOf(e);r!==-1&&i.splice(r,1)}else i[0]===e&&n(this,V).delete(t)}}this.notify({type:"removed",mutation:e})}canRun(e){const t=it(e);if(typeof t=="string"){const i=n(this,V).get(t),r=i==null?void 0:i.find(o=>o.state.status==="pending");return!r||r===e}return!0}runNext(e){var i;const t=it(e);if(typeof t=="string"){const r=(i=n(this,V).get(t))==null?void 0:i.find(o=>o!==e&&o.state.isPaused);return(r==null?void 0:r.continue())??Promise.resolve()}return Promise.resolve()}clear(){U.batch(()=>{n(this,ae).forEach(e=>{this.notify({type:"removed",mutation:e})}),n(this,ae).clear(),n(this,V).clear()})}getAll(){return Array.from(n(this,ae))}find(e){const t={exact:!0,...e};return this.getAll().find(i=>ns(t,i))}findAll(e={}){return this.getAll().filter(t=>ns(e,t))}notify(e){U.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(t=>t.state.isPaused);return U.batch(()=>Promise.all(e.map(t=>t.continue().catch(H))))}},ae=new WeakMap,V=new WeakMap,We=new WeakMap,ws);function it(s){var e;return(e=s.options.scope)==null?void 0:e.id}function ls(s){return{onFetch:(e,t)=>{var d,h,m,v,j;const i=e.options,r=(m=(h=(d=e.fetchOptions)==null?void 0:d.meta)==null?void 0:h.fetchMore)==null?void 0:m.direction,o=((v=e.state.data)==null?void 0:v.pages)||[],l=((j=e.state.data)==null?void 0:j.pageParams)||[];let u={pages:[],pageParams:[]},c=0;const p=async()=>{let x=!1;const y=Ws(e.options,e.fetchOptions),w=async(C,R,A)=>{if(x)return Promise.reject();if(R==null&&C.pages.length)return Promise.resolve(C);const E={client:e.client,queryKey:e.queryKey,pageParam:R,direction:A?"backward":"forward",meta:e.options.meta};var z;z=E,Object.defineProperty(z,"signal",{enumerable:!0,get:()=>(e.signal.aborted?x=!0:e.signal.addEventListener("abort",()=>{x=!0}),e.signal)});const F=await y(E),{maxPages:O}=e.options,D=A?Pa:Oa;return{pages:D(C.pages,F,O),pageParams:D(C.pageParams,R,O)}};if(r&&o.length){const C=r==="backward",R={pages:o,pageParams:l},A=(C?Ta:cs)(i,R);u=await w(R,A,C)}else{const C=s??o.length;do{const R=c===0?l[0]??i.initialPageParam:cs(i,u);if(c>0&&R==null)break;u=await w(u,R),c++}while(c<C)}return u};e.options.persister?e.fetchFn=()=>{var x,y;return(y=(x=e.options).persister)==null?void 0:y.call(x,p,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},t)}:e.fetchFn=p}}}function cs(s,{pages:e,pageParams:t}){const i=e.length-1;return e.length>0?s.getNextPageParam(e[i],e,t[i],t):void 0}function Ta(s,{pages:e,pageParams:t}){var i;return e.length>0?(i=s.getPreviousPageParam)==null?void 0:i.call(s,e[0],e,t[0],t):void 0}var B,q,Ye,Q,we,Ae,de,te,Je,Te,Ue,Se,qe,ue,De,N,ze,xt,bt,jt,wt,St,qt,Nt,ti,Ss,Ua=(Ss=class extends Ze{constructor(e,t){super();b(this,N);b(this,B);b(this,q);b(this,Ye);b(this,Q);b(this,we);b(this,Ae);b(this,de);b(this,te);b(this,Je);b(this,Te);b(this,Ue);b(this,Se);b(this,qe);b(this,ue);b(this,De,new Set);this.options=t,f(this,B,e),f(this,te,null),f(this,de,vt()),this.options.experimental_prefetchInRender||n(this,de).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(t)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(n(this,q).addObserver(this),ds(n(this,q),this.options)?S(this,N,ze).call(this):this.updateResult(),S(this,N,wt).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Ct(n(this,q),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Ct(n(this,q),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,S(this,N,St).call(this),S(this,N,qt).call(this),n(this,q).removeObserver(this)}setOptions(e,t){const i=this.options,r=n(this,q);if(this.options=n(this,B).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof W(this.options.enabled,n(this,q))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");S(this,N,Nt).call(this),n(this,q).setOptions(this.options),i._defaulted&&!ut(this.options,i)&&n(this,B).getQueryCache().notify({type:"observerOptionsUpdated",query:n(this,q),observer:this});const o=this.hasListeners();o&&us(n(this,q),r,this.options,i)&&S(this,N,ze).call(this),this.updateResult(t),!o||n(this,q)===r&&W(this.options.enabled,n(this,q))===W(i.enabled,n(this,q))&&Oe(this.options.staleTime,n(this,q))===Oe(i.staleTime,n(this,q))||S(this,N,xt).call(this);const l=S(this,N,bt).call(this);!o||n(this,q)===r&&W(this.options.enabled,n(this,q))===W(i.enabled,n(this,q))&&l===n(this,ue)||S(this,N,jt).call(this,l)}getOptimisticResult(e){const t=n(this,B).getQueryCache().build(n(this,B),e),i=this.createResult(t,e);return function(r,o){return!ut(r.getCurrentResult(),o)}(this,i)&&(f(this,Q,i),f(this,Ae,this.options),f(this,we,n(this,q).state)),i}getCurrentResult(){return n(this,Q)}trackResult(e,t){const i={};return Object.keys(e).forEach(r=>{Object.defineProperty(i,r,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(r),t==null||t(r),e[r])})}),i}trackProp(e){n(this,De).add(e)}getCurrentQuery(){return n(this,q)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const t=n(this,B).defaultQueryOptions(e),i=n(this,B).getQueryCache().build(n(this,B),t);return i.fetch().then(()=>this.createResult(i,t))}fetch(e){return S(this,N,ze).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),n(this,Q)))}createResult(e,t){var z;const i=n(this,q),r=this.options,o=n(this,Q),l=n(this,we),u=n(this,Ae),c=e!==i?e.state:n(this,Ye),{state:p}=e;let d,h={...p},m=!1;if(t._optimisticResults){const F=this.hasListeners(),O=!F&&ds(e,t),D=F&&us(e,i,t,r);(O||D)&&(h={...h,...ei(p.data,e.options)}),t._optimisticResults==="isRestoring"&&(h.fetchStatus="idle")}let{error:v,errorUpdatedAt:j,status:x}=h;if(t.select&&h.data!==void 0)if(o&&h.data===(l==null?void 0:l.data)&&t.select===n(this,Je))d=n(this,Te);else try{f(this,Je,t.select),d=t.select(h.data),d=gt(o==null?void 0:o.data,d,t),f(this,Te,d),f(this,te,null)}catch(F){f(this,te,F)}else d=h.data;if(t.placeholderData!==void 0&&d===void 0&&x==="pending"){let F;if(o!=null&&o.isPlaceholderData&&t.placeholderData===(u==null?void 0:u.placeholderData))F=o.data;else if(F=typeof t.placeholderData=="function"?t.placeholderData((z=n(this,Ue))==null?void 0:z.state.data,n(this,Ue)):t.placeholderData,t.select&&F!==void 0)try{F=t.select(F),f(this,te,null)}catch(O){f(this,te,O)}F!==void 0&&(x="success",d=gt(o==null?void 0:o.data,F,t),m=!0)}n(this,te)&&(v=n(this,te),d=n(this,Te),j=Date.now(),x="error");const y=h.fetchStatus==="fetching",w=x==="pending",C=x==="error",R=w&&y,A=d!==void 0,E={status:x,fetchStatus:h.fetchStatus,isPending:w,isSuccess:x==="success",isError:C,isInitialLoading:R,isLoading:R,data:d,dataUpdatedAt:h.dataUpdatedAt,error:v,errorUpdatedAt:j,failureCount:h.fetchFailureCount,failureReason:h.fetchFailureReason,errorUpdateCount:h.errorUpdateCount,isFetched:h.dataUpdateCount>0||h.errorUpdateCount>0,isFetchedAfterMount:h.dataUpdateCount>c.dataUpdateCount||h.errorUpdateCount>c.errorUpdateCount,isFetching:y,isRefetching:y&&!w,isLoadingError:C&&!A,isPaused:h.fetchStatus==="paused",isPlaceholderData:m,isRefetchError:C&&A,isStale:Kt(e,t),refetch:this.refetch,promise:n(this,de)};if(this.options.experimental_prefetchInRender){const F=ye=>{E.status==="error"?ye.reject(E.error):E.data!==void 0&&ye.resolve(E.data)},O=()=>{const ye=f(this,de,E.promise=vt());F(ye)},D=n(this,de);switch(D.status){case"pending":e.queryHash===i.queryHash&&F(D);break;case"fulfilled":E.status!=="error"&&E.data===D.value||O();break;case"rejected":E.status==="error"&&E.error===D.reason||O()}}return E}updateResult(e){const t=n(this,Q),i=this.createResult(n(this,q),this.options);if(f(this,we,n(this,q).state),f(this,Ae,this.options),n(this,we).data!==void 0&&f(this,Ue,n(this,q)),ut(i,t))return;f(this,Q,i);const r={};(e==null?void 0:e.listeners)!==!1&&(()=>{if(!t)return!0;const{notifyOnChangeProps:o}=this.options,l=typeof o=="function"?o():o;if(l==="all"||!l&&!n(this,De).size)return!0;const u=new Set(l??n(this,De));return this.options.throwOnError&&u.add("error"),Object.keys(n(this,Q)).some(c=>{const p=c;return n(this,Q)[p]!==t[p]&&u.has(p)})})()&&(r.listeners=!0),S(this,N,ti).call(this,{...r,...e})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&S(this,N,wt).call(this)}},B=new WeakMap,q=new WeakMap,Ye=new WeakMap,Q=new WeakMap,we=new WeakMap,Ae=new WeakMap,de=new WeakMap,te=new WeakMap,Je=new WeakMap,Te=new WeakMap,Ue=new WeakMap,Se=new WeakMap,qe=new WeakMap,ue=new WeakMap,De=new WeakMap,N=new WeakSet,ze=function(e){S(this,N,Nt).call(this);let t=n(this,q).fetch(this.options,e);return e!=null&&e.throwOnError||(t=t.catch(H)),t},xt=function(){S(this,N,St).call(this);const e=Oe(this.options.staleTime,n(this,q));if(Ne||n(this,Q).isStale||!mt(e))return;const t=Gs(n(this,Q).dataUpdatedAt,e)+1;f(this,Se,setTimeout(()=>{n(this,Q).isStale||this.updateResult()},t))},bt=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(n(this,q)):this.options.refetchInterval)??!1},jt=function(e){S(this,N,qt).call(this),f(this,ue,e),!Ne&&W(this.options.enabled,n(this,q))!==!1&&mt(n(this,ue))&&n(this,ue)!==0&&f(this,qe,setInterval(()=>{(this.options.refetchIntervalInBackground||Qt.isFocused())&&S(this,N,ze).call(this)},n(this,ue)))},wt=function(){S(this,N,xt).call(this),S(this,N,jt).call(this,S(this,N,bt).call(this))},St=function(){n(this,Se)&&(clearTimeout(n(this,Se)),f(this,Se,void 0))},qt=function(){n(this,qe)&&(clearInterval(n(this,qe)),f(this,qe,void 0))},Nt=function(){const e=n(this,B).getQueryCache().build(n(this,B),this.options);if(e===n(this,q))return;const t=n(this,q);f(this,q,e),f(this,Ye,e.state),this.hasListeners()&&(t==null||t.removeObserver(this),e.addObserver(this))},ti=function(e){U.batch(()=>{e.listeners&&this.listeners.forEach(t=>{t(n(this,Q))}),n(this,B).getQueryCache().notify({query:n(this,q),type:"observerResultsUpdated"})})},Ss);function ds(s,e){return function(t,i){return W(i.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&i.retryOnMount===!1)}(s,e)||s.state.data!==void 0&&Ct(s,e,e.refetchOnMount)}function Ct(s,e,t){if(W(e.enabled,s)!==!1){const i=typeof t=="function"?t(s):t;return i==="always"||i!==!1&&Kt(s,e)}return!1}function us(s,e,t,i){return(s!==e||W(i.enabled,s)===!1)&&(!t.suspense||s.state.status!=="error")&&Kt(s,t)}function Kt(s,e){return W(e.enabled,s)!==!1&&s.isStaleByTime(Oe(e.staleTime,s))}var si=g.createContext(void 0),Da=({client:s,children:e})=>(g.useEffect(()=>(s.mount(),()=>{s.unmount()}),[s]),a.jsx(si.Provider,{value:s,children:e})),ii=g.createContext(!1);ii.Provider;var Ma=g.createContext(function(){let s=!1;return{clearReset:()=>{s=!1},reset:()=>{s=!0},isReset:()=>s}}());function hs(){}var ps=(s,e,t)=>e.fetchOptimistic(s).catch(()=>{t.clearReset()});function Ia(s,e,t){var h,m,v,j,x;const i=(()=>{const y=g.useContext(si);if(!y)throw new Error("No QueryClient set, use QueryClientProvider to set one");return y})(),r=g.useContext(ii),o=g.useContext(Ma),l=i.defaultQueryOptions(s);(m=(h=i.getDefaultOptions().queries)==null?void 0:h._experimental_beforeQuery)==null||m.call(h,l),l._optimisticResults=r?"isRestoring":"optimistic",(y=>{const w=y.staleTime;y.suspense&&(y.staleTime=typeof w=="function"?(...C)=>Math.max(w(...C),1e3):Math.max(w??1e3,1e3),typeof y.gcTime=="number"&&(y.gcTime=Math.max(y.gcTime,1e3)))})(l),((y,w)=>{(y.suspense||y.throwOnError||y.experimental_prefetchInRender)&&(w.isReset()||(y.retryOnMount=!1))})(l,o),(y=>{g.useEffect(()=>{y.clearReset()},[y])})(o);const u=!i.getQueryCache().get(l.queryHash),[c]=g.useState(()=>new e(i,l)),p=c.getOptimisticResult(l),d=!r&&s.subscribed!==!1;if(g.useSyncExternalStore(g.useCallback(y=>{const w=d?c.subscribe(U.batchCalls(y)):hs;return c.updateResult(),w},[c,d]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),g.useEffect(()=>{c.setOptions(l,{listeners:!1})},[l,c]),((y,w)=>(y==null?void 0:y.suspense)&&w.isPending)(l,p))throw ps(l,c,o);if((({result:y,errorResetBoundary:w,throwOnError:C,query:R,suspense:A})=>{return y.isError&&!w.isReset()&&!y.isFetching&&R&&(A&&y.data===void 0||(E=C,z=[y.error,R],typeof E=="function"?E(...z):!!E));var E,z})({result:p,errorResetBoundary:o,throwOnError:l.throwOnError,query:i.getQueryCache().get(l.queryHash),suspense:l.suspense}))throw p.error;if((j=(v=i.getDefaultOptions().queries)==null?void 0:v._experimental_afterQuery)==null||j.call(v,l,p),l.experimental_prefetchInRender&&!Ne&&((y,w)=>y.isLoading&&y.isFetching&&!w)(p,r)){const y=u?ps(l,c,o):(x=i.getQueryCache().get(l.queryHash))==null?void 0:x.promise;y==null||y.catch(hs).finally(()=>{c.updateResult()})}return l.notifyOnChangeProps?p:c.trackResult(p)}function ai(s,e){return Ia(s,Ua)}var k,he,pe,Me,Ie,fe,Qe,Ke,qs;const Qa=new(qs=class{constructor(s={}){b(this,k);b(this,he);b(this,pe);b(this,Me);b(this,Ie);b(this,fe);b(this,Qe);b(this,Ke);f(this,k,s.queryCache||new Fa),f(this,he,s.mutationCache||new Aa),f(this,pe,s.defaultOptions||{}),f(this,Me,new Map),f(this,Ie,new Map),f(this,fe,0)}mount(){et(this,fe)._++,n(this,fe)===1&&(f(this,Qe,Qt.subscribe(async s=>{s&&(await this.resumePausedMutations(),n(this,k).onFocus())})),f(this,Ke,nt.subscribe(async s=>{s&&(await this.resumePausedMutations(),n(this,k).onOnline())})))}unmount(){var s,e;et(this,fe)._--,n(this,fe)===0&&((s=n(this,Qe))==null||s.call(this),f(this,Qe,void 0),(e=n(this,Ke))==null||e.call(this),f(this,Ke,void 0))}isFetching(s){return n(this,k).findAll({...s,fetchStatus:"fetching"}).length}isMutating(s){return n(this,he).findAll({...s,status:"pending"}).length}getQueryData(s){var t;const e=this.defaultQueryOptions({queryKey:s});return(t=n(this,k).get(e.queryHash))==null?void 0:t.state.data}ensureQueryData(s){const e=this.defaultQueryOptions(s),t=n(this,k).build(this,e),i=t.state.data;return i===void 0?this.fetchQuery(s):(s.revalidateIfStale&&t.isStaleByTime(Oe(e.staleTime,t))&&this.prefetchQuery(e),Promise.resolve(i))}getQueriesData(s){return n(this,k).findAll(s).map(({queryKey:e,state:t})=>[e,t.data])}setQueryData(s,e,t){const i=this.defaultQueryOptions({queryKey:s}),r=n(this,k).get(i.queryHash),o=r==null?void 0:r.state.data,l=function(u,c){return typeof u=="function"?u(c):u}(e,o);if(l!==void 0)return n(this,k).build(this,i).setData(l,{...t,manual:!0})}setQueriesData(s,e,t){return U.batch(()=>n(this,k).findAll(s).map(({queryKey:i})=>[i,this.setQueryData(i,e,t)]))}getQueryState(s){var t;const e=this.defaultQueryOptions({queryKey:s});return(t=n(this,k).get(e.queryHash))==null?void 0:t.state}removeQueries(s){const e=n(this,k);U.batch(()=>{e.findAll(s).forEach(t=>{e.remove(t)})})}resetQueries(s,e){const t=n(this,k),i={type:"active",...s};return U.batch(()=>(t.findAll(s).forEach(r=>{r.reset()}),this.refetchQueries(i,e)))}cancelQueries(s,e={}){const t={revert:!0,...e},i=U.batch(()=>n(this,k).findAll(s).map(r=>r.cancel(t)));return Promise.all(i).then(H).catch(H)}invalidateQueries(s,e={}){return U.batch(()=>{if(n(this,k).findAll(s).forEach(i=>{i.invalidate()}),(s==null?void 0:s.refetchType)==="none")return Promise.resolve();const t={...s,type:(s==null?void 0:s.refetchType)??(s==null?void 0:s.type)??"active"};return this.refetchQueries(t,e)})}refetchQueries(s,e={}){const t={...e,cancelRefetch:e.cancelRefetch??!0},i=U.batch(()=>n(this,k).findAll(s).filter(r=>!r.isDisabled()).map(r=>{let o=r.fetch(void 0,t);return t.throwOnError||(o=o.catch(H)),r.state.fetchStatus==="paused"?Promise.resolve():o}));return Promise.all(i).then(H)}fetchQuery(s){const e=this.defaultQueryOptions(s);e.retry===void 0&&(e.retry=!1);const t=n(this,k).build(this,e);return t.isStaleByTime(Oe(e.staleTime,t))?t.fetch(e):Promise.resolve(t.state.data)}prefetchQuery(s){return this.fetchQuery(s).then(H).catch(H)}fetchInfiniteQuery(s){return s.behavior=ls(s.pages),this.fetchQuery(s)}prefetchInfiniteQuery(s){return this.fetchInfiniteQuery(s).then(H).catch(H)}ensureInfiniteQueryData(s){return s.behavior=ls(s.pages),this.ensureQueryData(s)}resumePausedMutations(){return nt.isOnline()?n(this,he).resumePausedMutations():Promise.resolve()}getQueryCache(){return n(this,k)}getMutationCache(){return n(this,he)}getDefaultOptions(){return n(this,pe)}setDefaultOptions(s){f(this,pe,s)}setQueryDefaults(s,e){n(this,Me).set(He(s),{queryKey:s,defaultOptions:e})}getQueryDefaults(s){const e=[...n(this,Me).values()],t={};return e.forEach(i=>{Ge(s,i.queryKey)&&Object.assign(t,i.defaultOptions)}),t}setMutationDefaults(s,e){n(this,Ie).set(He(s),{mutationKey:s,defaultOptions:e})}getMutationDefaults(s){const e=[...n(this,Ie).values()];let t={};return e.forEach(i=>{Ge(s,i.mutationKey)&&(t={...t,...i.defaultOptions})}),t}defaultQueryOptions(s){if(s._defaulted)return s;const e={...n(this,pe).queries,...this.getQueryDefaults(s.queryKey),...s,_defaulted:!0};return e.queryHash||(e.queryHash=Mt(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===It&&(e.enabled=!1),e}defaultMutationOptions(s){return s!=null&&s._defaulted?s:{...n(this,pe).mutations,...(s==null?void 0:s.mutationKey)&&this.getMutationDefaults(s.mutationKey),...s,_defaulted:!0}}clear(){n(this,k).clear(),n(this,he).clear()}},k=new WeakMap,he=new WeakMap,pe=new WeakMap,Me=new WeakMap,Ie=new WeakMap,fe=new WeakMap,Qe=new WeakMap,Ke=new WeakMap,qs),ni=async(s,e,t)=>s?(await Pt.get(Ka(s,e,t))).data:Promise.reject(),Ka=(s,e,t)=>{let i=s;return e&&t?i=i.concat(`?p=${e}&size=${t}`):e&&(i=i.concat(`?p=${e}`)),i},La=({imgUrl:s,bundle:e})=>a.jsx(a.Fragment,{children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"d-flex justify-content-center align-items-center",children:a.jsx("img",{src:`${Pi}${s}`,alt:"noData",style:{maxWidth:"100%",maxHeight:"250px",width:"auto"}})}),a.jsx("div",{style:{fontStyle:"italic",marginTop:"20px"},children:e==null?void 0:e["action.empty"]})]})});function ri(s,e,t,i){return a.jsx("h5",{className:"mb-4",children:s.totalElements>0?Zi(i,s.pageable.pageNumber,s.pageable.pageSize,s.totalElements):a.jsx(La,{imgUrl:t==null?void 0:t.noData,bundle:e})})}function oi(s){return a.jsx(Ft,{overlay:a.jsx(kt,{children:s.email}),children:a.jsx(Le,{icon:Ri,style:{color:"#1294be"}})})}const $a=({pdfList:s,bundle:e,previewUrl:t,downloadUrl:i,userLocale:r})=>a.jsx("ul",{className:"admin-list",children:s.map((o,l)=>{const u=o.uploadedBy;return a.jsx("li",{children:a.jsxs(K,{children:[a.jsx(me,{sm:4,md:3,lg:2,children:a.jsx("a",{href:`${i}/${o.fileName}`,target:"_blank",rel:"noopener noreferrer",children:a.jsx("img",{src:`${t}/${o.fileName}`,alt:o.originalFileName,className:"pdf-preview"})})}),a.jsxs(me,{className:"d-flex flex-column pt-xs-3",children:[a.jsx(K,{children:a.jsxs("div",{children:[e==null?void 0:e["page.view.pdf.fileName"]," ",o.fileName]})}),a.jsx(K,{children:a.jsxs("div",{children:[e==null?void 0:e["page.view.pdf.ogFileName"]," ",o.originalFileName]})}),a.jsx(K,{children:a.jsxs("div",{children:[e==null?void 0:e["page.view.pdf.size"]," ",Cs(o.size,e)]})}),a.jsx(K,{children:a.jsxs("div",{children:[e==null?void 0:e["page.view.uploadedAt"]," ",Os(o.uploadedAt,r)]})}),a.jsx(K,{children:a.jsxs("div",{children:[e==null?void 0:e["page.view.uploadedBy"]," ",u.firstName+" "+u.lastName," ",oi(u)]})}),a.jsx(K,{children:a.jsxs("div",{children:[e==null?void 0:e["page.view.pdf.multilingual"]," ",a.jsx(Ft,{overlay:a.jsx(kt,{children:o.translatedToSupported?e==null?void 0:e["page.view.pdf.multilingual.enabled.tip"]:e==null?void 0:e["page.view.pdf.multilingual.disabled.tip"]}),children:a.jsx(Le,{icon:o.translatedToSupported?Ei:Fi,className:"me-2",style:{color:"#1294be"}})})]})}),a.jsx(K,{className:"mt-auto pt-xs-3",children:a.jsx("div",{children:a.jsx(J,{size:"sm",variant:"danger",children:e==null?void 0:e["action.delete"]})})})]})]})},l)})});function Ba(s,e,t){const i=[],r=e>4;for(let o=0;o<(r?4:e);o++)i.push(a.jsx(oe.Item,{onClick:()=>t(o),active:o===s,children:o+1},o));return r&&(i.push(a.jsx(oe.Ellipsis,{disabled:!0})),i.push(a.jsx(oe.Item,{active:e===s,onClick:()=>t(e),children:e}))),i}function at(s){return s?"d-none":"d-block"}function li(s){const e=s.pagination,t=s.activePage,i=e.totalPages,r=t+1<i,o=t!==0,l=s.pageSetter;return a.jsxs(a.Fragment,{children:[s.render(),a.jsxs(oe,{className:"d-flex justify-content-center mt-4",children:[a.jsx(oe.First,{onClick:()=>l(0),className:at(e.first)}),a.jsx(oe.Prev,{onClick:()=>l(t-1),className:at(!o)}),Ba(t,i,l),a.jsx(oe.Next,{onClick:()=>l(t+1),className:at(!r)}),a.jsx(oe.Last,{onClick:()=>l(i-1),className:at(e.last)})]})]})}const za=(s,e,t)=>{const i=((s==null?void 0:s["page.pdf.validation.size"])||"").replace("{0}",t);return pt().shape({files:ia().test("fileType",(s==null?void 0:s["page.pdf.validation.format"])||"",r=>r instanceof FileList&&Array.from(r).every(o=>o.type==="application/pdf")).test("fileSize",i,r=>r instanceof FileList&&Array.from(r).every(o=>o.size<=e)).required(s==null?void 0:s["page.pdf.validation.required"]),translate:Ps()})},_a=({show:s,handleClose:e,maxUploadFileSize:t,bundle:i,uploadUrl:r,setUploadStarted:o})=>{const l=g.useRef(null);return a.jsxs(ne,{show:s,onHide:e,centered:!0,children:[a.jsx(ne.Header,{closeButton:!0,children:a.jsx(ne.Title,{children:i["page.view.pdf.upload"]})}),a.jsx(ne.Body,{children:a.jsx(Rs,{initialValues:{files:null,translate:!1},initialTouched:{files:!0},validationSchema:za(i,ea(t),t),onSubmit:async u=>{await(async(c,p,d)=>{if(d&&c){const h=new FormData;return Array.from(c).forEach(m=>{h.append("files",m)}),h.append("translate",String(p)),await Pt.post(d,h,{headers:{"Content-Type":"multipart/form-data"}})}})(u.files,u.translate,r),o(!0),e()},children:({handleSubmit:u,values:c,setFieldValue:p,isSubmitting:d,errors:h})=>a.jsxs(L,{noValidate:!0,onSubmit:u,children:[a.jsxs(L.Group,{controlId:"formFile",children:[a.jsx(L.Label,{children:i["action.selectFromDevice"]}),a.jsx(L.Control,{type:"file",multiple:!0,accept:"application/pdf",ref:l,onChange:m=>{const v=m.target;v.files?p("files",v.files):p("files",null)},isInvalid:!!h.files}),a.jsx(aa,{name:"files",component:"div",className:"text-danger"})]}),c.files&&c.files.length>0&&a.jsx("div",{className:"mt-3",style:{maxHeight:"200px",overflowY:"auto"},children:a.jsx(ss,{children:Array.from(c.files).map((m,v)=>a.jsxs(ss.Item,{className:"d-flex align-items-center justify-content-between",children:[a.jsx(Le,{icon:ki,className:"text-danger me-2"}),a.jsxs("span",{className:"flex-grow-1 text-truncate",children:[m.name," (",Cs(m.size,i),")"]}),a.jsx(J,{variant:"outline-danger",size:"sm",onClick:()=>((j,x,y)=>{if(!y)return;const w=new DataTransfer;[...y].forEach((R,A)=>{A!==j&&w.items.add(R)});const C=w.files;x("files",C),C.length===0&&l.current&&(l.current.value="")})(v,p,c.files),children:a.jsx(Le,{icon:Ai})})]},v))})}),a.jsx(L.Group,{controlId:"translateToggle",className:"mt-3",children:a.jsx(L.Check,{type:"switch",label:i["action.enableTranslation"],onChange:m=>p("translate",m.target.checked)})}),a.jsx("div",{className:"d-flex justify-content-start mt-3",children:a.jsx(J,{type:"submit",variant:"primary",disabled:d,children:i["action.upload"]})})]})})})]})},ci=()=>{window.scrollTo({top:0,behavior:"smooth"})},Ha=()=>{const s=Lt(),{uiStore:{bundle:e,pathNavigation:t,assets:i,locale:r},authStore:o,maxUploadFileSize:l}=s,[u,c]=g.useState(0),[p,d]=g.useState(!1),{data:h}=ai({queryKey:["pdf",{activePage:u}],queryFn:()=>ni(t==null?void 0:t.knowledgeBaseGetPdfs,u),enabled:!!(t!=null&&t.knowledgeBaseGetPdfs)});return a.jsx(Rt,{className:"admin-section",children:a.jsx(K,{children:a.jsx(me,{md:12,children:a.jsx(Y,{className:"admin-card",children:a.jsxs(Y.Body,{children:[a.jsx(Y.Title,{className:"admin-title",children:e==null?void 0:e["page.section.pdfs"]}),a.jsx(Y.Text,{className:"admin-desc",children:e==null?void 0:e["page.view.pdf.desc"]}),a.jsx(J,{className:"main-button mb-4",onClick:()=>d(!0),children:e==null?void 0:e["page.view.pdf.upload"]}),a.jsx(_a,{show:p,handleClose:()=>{d(!1),ci()},maxUploadFileSize:l,bundle:e,uploadUrl:t==null?void 0:t.knowledgeBaseUploadPdf,setUploadStarted:m=>o.ctxUploaded=m}),h&&a.jsxs(a.Fragment,{children:[ri(h,e,i,e==null?void 0:e["page.view.pdf.pagination"]),a.jsx(li,{activePage:u,pageSetter:m=>c(m),pagination:h,render:()=>a.jsx($a,{pdfList:(h==null?void 0:h.content)||[],bundle:e,previewUrl:t==null?void 0:t.knowledgeBasePdfPreview,downloadUrl:t==null?void 0:t.knowledgeBasePdfDownload,userLocale:r||"en-US"})})]})]})})})})})},Ga=({qaList:s,bundle:e,userLocale:t})=>{const[i,r]=g.useState("0"),o=l=>{r(l),setTimeout(()=>{(u=>{var c;(c=document.getElementById(u))==null||c.scrollIntoView({behavior:"smooth"})})(l)},100)};return a.jsx(tt,{activeKey:i,onSelect:l=>{r(l!==void 0?l:null)},children:s.map(l=>{const u=`qa${l.dbId}`,c=l.uploadedBy;return a.jsxs(tt.Item,{eventKey:u,id:u,children:[a.jsx(tt.Header,{children:a.jsx(K,{children:a.jsxs(me,{xs:"auto",children:[a.jsx("strong",{children:e["page.view.qa.q"]})," ",l.q," ",a.jsx(ta,{language:l.language,className:"me-2",style:{verticalAlign:"baseline"}}),l.translateStatus===1?a.jsx(Le,{icon:Ti,style:{color:"#1294be"}}):null]})})}),a.jsxs(tt.Body,{children:[a.jsxs("p",{children:[a.jsx("strong",{children:e["page.view.qa.a"]})," ",l.a]}),a.jsxs("p",{children:[a.jsx("strong",{children:e["page.view.qa.ts"]})," ",l.translateStatus===1?a.jsx(Ft,{overlay:a.jsx(kt,{children:e==null?void 0:e["page.view.qa.ts.tip"]}),children:a.jsx("a",{href:`#${u}`,className:"base-link",onClick:p=>{p.preventDefault(),o(`qa${l.originalQdbId}`)},children:e==null?void 0:e["page.view.qa.ts.tr"]})}):e==null?void 0:e["page.view.qa.ts.og"]]}),a.jsxs("p",{children:[a.jsx("strong",{children:e["page.view.qa.language"]})," ",l.language.name]}),a.jsxs("p",{children:[a.jsx("strong",{children:e["page.view.uploadedAt"]})," ",Os(l.uploadedAt,t||"en-US")]}),a.jsxs("p",{children:[a.jsx("strong",{children:e["page.view.uploadedBy"]})," ",c.firstName+" "+c.lastName," ",oi(c)]}),a.jsxs("p",{children:[a.jsx(J,{size:"sm",variant:"primary",className:"me-2",children:e==null?void 0:e["action.edit"]}),a.jsx(J,{size:"sm",variant:"danger",children:e==null?void 0:e["action.delete"]})]})]})]},l.dbId)})})},Va=(s,e)=>pt().shape({qas:na().of(pt().shape({q:Zt().required(s==null?void 0:s["page.view.qa.modal.q.validation.required"]).max(e.questionMaxSize,s==null?void 0:s["page.view.qa.modal.q.validation.size"]),a:Zt().required(s==null?void 0:s["page.view.qa.modal.a.validation.required"]).max(e.answerMaxSize,s==null?void 0:s["page.view.qa.modal.a.validation.size"])})),translateToSupported:Ps()}),Ot=(s,e)=>{const t=e.split(".");let i=s;for(const r of t){if(!i||typeof i!="object"||!(r in i))return;i=i[r]}return typeof i=="string"?i:void 0},di=(s,e)=>{const t=e.split(".");let i=s;for(const r of t){if(!i||typeof i!="object"||!(r in i))return;i=i[r]}return typeof i=="boolean"?i:void 0},Wa=({field:s,form:{touched:e,errors:t},index:i,...r})=>{const o=Ot(t,`qas.${i}.a`),l=di(e,`qas.${i}.a`),u=!!o&&!!l;return a.jsx(L.Control,{...s,...r,as:"textarea",className:"w-100 qa-input",style:{height:"120px",resize:"none"},isInvalid:u})},Ya=({show:s,handleClose:e,bundle:t,qaValidation:i,pathNavigation:r,setUploadStarted:o})=>a.jsxs(ne,{show:s,onHide:e,centered:!0,children:[a.jsx(ne.Header,{closeButton:!0,children:a.jsx(ne.Title,{children:t["page.view.qa.add"]})}),a.jsx(Rs,{initialValues:{qas:[{q:"",a:""}],translateToSupported:!1},validationSchema:Va(t,i),onSubmit:async l=>{await(async(u,c)=>{if(c)return Pt.post(c,u)})(l,r==null?void 0:r.knowledgeBaseUploadJson),o(!0),e()},children:({values:l,handleSubmit:u,errors:c,touched:p,setFieldValue:d,isSubmitting:h})=>a.jsxs(L,{onSubmit:u,noValidate:!0,children:[a.jsxs(ne.Body,{children:[a.jsx(K,{style:{padding:"0 10px 10px 10px"},children:a.jsxs("h5",{children:[t==null?void 0:t["page.view.qa.modal.tips"]," ",a.jsx("a",{href:`${r==null?void 0:r.howTo}#QAs`,className:"base-link",children:t==null?void 0:t["page.view.qa.modal.tipsLink"]})]})}),a.jsx(ra,{name:"qas",children:({push:m,remove:v})=>a.jsxs("div",{style:{maxHeight:"300px",overflowY:"auto",overflowX:"hidden",padding:"10px"},children:[l.qas.map((j,x)=>{const y=Ot(c,`qas.${x}.q`),w=di(p,`qas.${x}.q`),C=Ot(c,`qas.${x}.a`);return a.jsxs("div",{children:[a.jsx(K,{className:"mb-3",children:a.jsxs(me,{children:[a.jsx(L.Label,{children:a.jsx("strong",{children:t==null?void 0:t["page.view.qa.modal.q"]})}),a.jsx(es,{name:`qas.${x}.q`,as:L.Control,placeholder:t==null?void 0:t["page.view.qa.model.q.example"],isInvalid:!!y&&w,className:"qa-input"}),a.jsx(L.Control.Feedback,{type:"invalid",children:y})]})},`q${x}`),a.jsx(K,{className:"mb-3",children:a.jsxs(me,{children:[a.jsx(L.Label,{children:a.jsx("strong",{children:t["page.view.qa.modal.a"]})}),a.jsx(es,{name:`qas.${x}.a`,placeholder:t["page.view.qa.model.a.example"],component:Wa,index:x}),a.jsx(L.Control.Feedback,{type:"invalid",children:C})]})},`a${x}`),a.jsx(K,{className:"mb-3",children:a.jsx(me,{children:a.jsx(J,{variant:"danger",onClick:()=>v(x),disabled:l.qas.length<=1,children:t==null?void 0:t["action.delete"]})})},`bd${x}`)]},`qa${x}`)}),a.jsx(J,{variant:"secondary",onClick:()=>m({q:"",a:""}),children:t["page.view.qa.modal.add"]})]})}),a.jsx(L.Group,{controlId:"translateToggle",className:"mt-3",children:a.jsx(L.Check,{type:"switch",label:t["action.enableTranslation"],onChange:m=>d("translateToSupported",m.target.checked)})})]}),a.jsx(ne.Footer,{className:"d-flex justify-content-start",children:a.jsx(J,{variant:"primary",type:"submit",disabled:h,children:t["action.upload"]})})]})})]}),Ja=()=>{const s=Lt(),{uiStore:{bundle:e,pathNavigation:t,assets:i,locale:r},authStore:o}=s,[l,u]=g.useState(0),[c,p]=g.useState(!1),{data:d}=ai({queryKey:["qa",{activePage:l}],queryFn:()=>ni(t==null?void 0:t.knowledgeBaseGetQAs,l),enabled:!!(t!=null&&t.knowledgeBaseGetQAs)});return a.jsx(Rt,{className:"admin-section",children:a.jsx(K,{children:a.jsx(me,{md:12,children:a.jsx(Y,{className:"admin-card",children:a.jsxs(Y.Body,{children:[a.jsx(Y.Title,{className:"admin-title",children:e==null?void 0:e["page.section.qa"]}),a.jsx(Y.Text,{className:"admin-desc",children:e==null?void 0:e["page.view.qa.desc"]}),a.jsx(J,{className:"main-button mb-4",onClick:()=>p(!0),children:e==null?void 0:e["page.view.qa.add"]}),a.jsx(Ya,{show:c,handleClose:()=>{p(!1),ci()},bundle:e,qaValidation:s.qaValidation,pathNavigation:t,setUploadStarted:h=>o.ctxUploaded=h}),d&&a.jsxs(a.Fragment,{children:[ri(d,e,i,e==null?void 0:e["page.view.qa.pagination"]),a.jsx(li,{activePage:l,pageSetter:h=>u(h),pagination:d,render:()=>a.jsx(Ga,{qaList:d.content,bundle:e,userLocale:r})})]})]})})})})})},fs=({title:s,children:e,initialOpen:t=!1})=>{const[i,r]=g.useState(t),o=g.useRef(null);return g.useEffect(()=>{t&&r(!0)},[t]),a.jsxs(Y,{children:[a.jsx(Y.Header,{children:a.jsx(J,{variant:"link",onClick:()=>r(!i),"aria-controls":"collapse-text","aria-expanded":i,className:"base-link",children:s})}),a.jsx(As,{in:i,ref:o,children:a.jsx(Y.Body,{children:e})})]})},Xa=({children:s})=>a.jsx(a.Fragment,{children:s}),Za=g.lazy(()=>Et(()=>import("../shared/Navbar-chunk-Bmq4wKz-.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14]))),en=g.lazy(()=>Et(()=>import("../shared/Footer-chunk-B0nAH3Vv.js"),__vite__mapDeps([15,1,2,16,17]))),tn=g.lazy(()=>Et(()=>import("../shared/NotificationAlert-chunk-D0nHZtD2.js"),__vite__mapDeps([18,1,2,5,6,7,8,19]))),sn=Ui(function(){const s=Lt(),{uiStore:e,authStore:t}=s,i=e.bundle;return a.jsx(a.Fragment,{children:s.loading?a.jsx(Di,{}):a.jsxs(a.Fragment,{children:[a.jsx(Za,{uiStore:e,authStore:t}),t.ctxUploaded?a.jsx(tn,{message:i==null?void 0:i["notification.success.upload"],variant:"success",onClose:r=>t.ctxUploaded=r}):null,a.jsxs(Rt,{className:"base-container",children:[a.jsxs("h1",{className:"mb-3",children:[i==null?void 0:i["page.title"]," ",a.jsx(Le,{icon:Mi,style:{color:"#1294be"}})]}),a.jsxs(Xa,{children:[a.jsx(fs,{title:i==null?void 0:i["page.view.pdf.title"],children:a.jsx(Ha,{})}),a.jsx(fs,{title:i==null?void 0:i["page.view.qa.title"],children:a.jsx(Ja,{})})]}),a.jsx("p",{className:"mt-3",children:i==null?void 0:i["page.kbm.desc"]})]}),a.jsx(en,{uiStore:e})]})})});class ms extends Wi{constructor(t){super(t);Ce(this,"_ctxUploaded",!1);Ns(this,{_ctxUploaded:Qi,ctxUploaded:Ii})}set ctxUploaded(t){this._ctxUploaded=t}get ctxUploaded(){return this._ctxUploaded}}class an extends Bi{constructor(t,i,r,o,l,u,c,p){super(t,i,r,o,l,u);Ce(this,"maxUploadFileSize");Ce(this,"qaValidation");this.maxUploadFileSize=c,this.qaValidation=p}}const{useStoreContext:Lt,StoreContext:nn}=zi(),rn=Vi(nn),on=new class extends Yi{constructor(e){super(new ms(null));Ce(this,"maxUploadFileSize");Ce(this,"qaValidation");this.maxUploadFileSize="1MB",this.qaValidation={questionMaxSize:100,answerMaxSize:1e3},Ns(this,{...Li,...Ji,init:Ki}),this.initThis(e)}initThis(e){this.init(e,t=>{this.uiStore=new $i(t.navMenu,t.locale,t.assets,t.bundle,t.pathNavigation),this.authStore=new ms(t.userData),this.maxUploadFileSize=t.maxUploadFileSize,this.qaValidation=t.qaValidation})}}(()=>_i(Hi,an));Gi.createRoot(document.getElementById("root")).render(a.jsx(g.StrictMode,{children:a.jsx(rn,{rootStore:on,children:a.jsx(Da,{client:Qa,children:a.jsx(sn,{})})})}));
